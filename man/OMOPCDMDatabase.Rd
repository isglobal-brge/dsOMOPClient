% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/00_class.R
\name{OMOPCDMDatabase}
\alias{OMOPCDMDatabase}
\title{OMOP CDM Database Class}
\description{
A class that provides an interface to interact with OMOP Common Data Model (CDM) databases
through DataSHIELD. This class handles database connections and provides methods to access and query
OMOP CDM data in a secure and privacy-preserving way.

The class implements functionality to:
\itemize{
\item Establish and validate database connections
\item Check privacy control levels
\item Access OMOP CDM tables and catalogs
}
}
\details{
The OMOP CDM standardizes the format and content of observational data, enabling
large-scale analytics while ensuring consistent data representation across different
healthcare databases.
}
\section{Privacy and Security}{

The class implements privacy checks to ensure operations comply with DataSHIELD's
privacy controls. Warnings are raised if privacy settings may restrict certain operations.
}

\examples{
\dontrun{
# Create a connection to a single server
builder <- DSI::newDSLoginBuilder()
builder$append(server = "study1", url = "https://opal-demo.obiba.org",
              user = "dsuser", password = "P@ssw0rd")
connections <- DSI::datashield.login(builder)

# Initialize OMOP database connection
db <- ds.omop(connections, resource = "mimiciv")
}


## ------------------------------------------------
## Method `OMOPCDMDatabase$new`
## ------------------------------------------------

\dontrun{
# Single server connection
db <- OMOPCDMDatabase$new(connections, "omop_db")

# Multiple server connection
db <- OMOPCDMDatabase$new(connections, 
                          list(study1 = "omop_db1", 
                               study2 = "omop_db2"))
}

}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{connections}}{DataSHIELD connection object}

\item{\code{resource}}{Database resource identifier(s)}

\item{\code{resourceSymbol}}{Internal symbol for resource reference}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-OMOPCDMDatabase-new}{\code{OMOPCDMDatabase$new()}}
\item \href{#method-OMOPCDMDatabase-assignResource}{\code{OMOPCDMDatabase$assignResource()}}
\item \href{#method-OMOPCDMDatabase-removeResource}{\code{OMOPCDMDatabase$removeResource()}}
\item \href{#method-OMOPCDMDatabase-get}{\code{OMOPCDMDatabase$get()}}
\item \href{#method-OMOPCDMDatabase-tables}{\code{OMOPCDMDatabase$tables()}}
\item \href{#method-OMOPCDMDatabase-columns}{\code{OMOPCDMDatabase$columns()}}
\item \href{#method-OMOPCDMDatabase-concepts}{\code{OMOPCDMDatabase$concepts()}}
\item \href{#method-OMOPCDMDatabase-checkConnection}{\code{OMOPCDMDatabase$checkConnection()}}
\item \href{#method-OMOPCDMDatabase-checkPrivacyControlLevel}{\code{OMOPCDMDatabase$checkPrivacyControlLevel()}}
\item \href{#method-OMOPCDMDatabase-clone}{\code{OMOPCDMDatabase$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMDatabase-new"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMDatabase-new}{}}}
\subsection{Method \code{new()}}{
Initialize a new OMOP CDM database connection

This constructor establishes and validates the connection to an OMOP CDM database
through DataSHIELD. It performs connection validation and privacy control checks.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMDatabase$new(connections, resource)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{connections}}{A DataSHIELD connection object created via \code{DSI::datashield.login()}}

\item{\code{resource}}{Either a single resource identifier (character string) or a named list of
resource identifiers. When using multiple servers, the list names should match server names
in the connections object.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A new \code{OMOPCDMDatabase} object
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
# Single server connection
db <- OMOPCDMDatabase$new(connections, "omop_db")

# Multiple server connection
db <- OMOPCDMDatabase$new(connections, 
                          list(study1 = "omop_db1", 
                               study2 = "omop_db2"))
}

}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMDatabase-assignResource"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMDatabase-assignResource}{}}}
\subsection{Method \code{assignResource()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMDatabase$assignResource(symbol)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMDatabase-removeResource"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMDatabase-removeResource}{}}}
\subsection{Method \code{removeResource()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMDatabase$removeResource()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMDatabase-get"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMDatabase-get}{}}}
\subsection{Method \code{get()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMDatabase$get(
  table,
  symbol = NULL,
  conceptFilter = NULL,
  columnFilter = NULL,
  personFilter = NULL,
  mergeColumn = NULL,
  dropNA = FALSE,
  wideLongitudinal = FALSE
)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMDatabase-tables"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMDatabase-tables}{}}}
\subsection{Method \code{tables()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMDatabase$tables()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMDatabase-columns"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMDatabase-columns}{}}}
\subsection{Method \code{columns()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMDatabase$columns(table, dropNA = FALSE)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMDatabase-concepts"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMDatabase-concepts}{}}}
\subsection{Method \code{concepts()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMDatabase$concepts(table)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMDatabase-checkConnection"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMDatabase-checkConnection}{}}}
\subsection{Method \code{checkConnection()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMDatabase$checkConnection()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMDatabase-checkPrivacyControlLevel"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMDatabase-checkPrivacyControlLevel}{}}}
\subsection{Method \code{checkPrivacyControlLevel()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMDatabase$checkPrivacyControlLevel()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMDatabase-clone"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMDatabase-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMDatabase$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
