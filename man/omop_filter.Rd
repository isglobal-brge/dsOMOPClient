% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cart.R
\name{omop_filter}
\alias{omop_filter}
\alias{omop_filter_sex}
\alias{omop_filter_age}
\alias{omop_filter_age_group}
\alias{omop_filter_has_concept}
\alias{omop_filter_date_range}
\alias{omop_filter_value}
\title{Create a filter specification}
\usage{
omop_filter(
  type = c("sex", "age_range", "age_group", "cohort", "has_concept", "date_range",
    "value_threshold", "concept_set", "min_count", "top_n", "dedup", "custom"),
  level = c("population", "row", "output"),
  params = list(),
  label = NULL
)

omop_filter_sex(value)

omop_filter_age(min = 0, max = 150)

omop_filter_age_group(groups)

omop_filter_has_concept(
  concept_id,
  table,
  concept_name = NULL,
  window = NULL,
  min_count = 1L
)

omop_filter_date_range(start = NULL, end = NULL)

omop_filter_value(
  column = "value_as_number",
  threshold,
  direction = c("above", "below"),
  safe_bins = NULL
)
}
\arguments{
\item{type}{Character; filter type}

\item{level}{Character; "population", "row", or "output"}

\item{params}{Named list; filter-specific parameters}

\item{label}{Character or NULL; human-readable description}

\item{value}{Character; "M", "F", or concept ID}

\item{min}{Numeric; minimum age (inclusive)}

\item{max}{Numeric; maximum age (inclusive)}

\item{groups}{Character vector; age group labels (e.g. c("18-24", "25-34"))}

\item{concept_id}{Integer; the concept to check for}

\item{table}{Character; which OMOP table to check}

\item{concept_name}{Character or NULL; human-readable name}

\item{window}{Named list with start/end offsets, or NULL}

\item{min_count}{Integer; minimum number of occurrences (default 1)}

\item{start}{Character; start date (YYYY-MM-DD) or NULL}

\item{end}{Character; end date (YYYY-MM-DD) or NULL}

\item{column}{Character; column to compare}

\item{threshold}{Numeric; threshold value}

\item{direction}{Character; "above" or "below"}

\item{safe_bins}{List with $breaks numeric vector from ds.omop.safe.cutpoints()}
}
\value{
An omop_filter object
}
\description{
Filters restrict the population or events included in the extraction.
Three levels: population (person-level), row (event-level), output (post-extraction).
}
